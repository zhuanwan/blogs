
# 树

``` bash 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>

  <script>
  // 树转对象
  function makeRevMap(list, parents) {
    const ret = {}
    list.reduce((result, item) => {
      ret[item.key] = parents.concat(item)
      if (
        item.children &&
        Array.isArray(item.children) &&
        item.children.length > 0
      ) {
        Object.assign(result, makeRevMap(item.children, parents.concat(item)))
      }
    }, ret)
    return ret
  }

  const tree = [
    {
      key: 1,
      title: '0-0-0',
      children: [
        {
          key: 2,
          title: '0-1-0',
          children: [{
            key: 3,
            title: '0-1-1',
          }]
        },
        {
          key: 4,
          title: '0-2-0',
        },
        {
          key: 5,
          title: '0-3-0',
        }
      ]
    }
  ]

  const ret = makeRevMap(tree, [])
  console.log(ret)
  </script>
</html>

```