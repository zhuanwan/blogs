# æ ‘

```bash
function treeTransArray(tree, parentId) {
  return tree.reduce(
    (arr, { children = [], ...item }) =>
      arr.concat(
        [{ ...item, parentId }],
        treeTransArray(children, item.id)
      ),
    []
  )
}


function arrayTransTree(list, key){
  const tree = list.filter((parent) => {
    const branchArr = list.filter((child) => {
      return parent.id === child[key]
    })
    // eslint-disable-next-line no-param-reassign
    parent.children = []
    if (branchArr.length > 0) {
      // eslint-disable-next-line no-param-reassign
      parent.children = branchArr
    }
    const flag = parent[key] === '0'
    return flag
  })
  return tree
}

const a = [
  {
    title: '1',
    id: '1',
    children: [
      {
        title: '2-1',
        id: '2-1',
        children: [
          {
            title: '2-1-1',
            id: '2-1-1',
          },
        ],
      },
      {
        title: '2-2',
        id: '2-2',
      },
    ],
  },
]

const arr = treeTransArray(a, '0')
console.log(111, arr)
console.log(222, arrayTransTree(arr, 'parentId'))
```
