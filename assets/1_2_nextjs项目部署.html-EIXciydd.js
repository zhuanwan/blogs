import{_ as n,c as a,e,o as l}from"./app-Cqb5tvJn.js";const i={};function p(t,s){return l(),a("div",null,s[0]||(s[0]=[e(`<h1 id="nextjs项目部署" tabindex="-1"><a class="header-anchor" href="#nextjs项目部署"><span>nextjs项目部署</span></a></h1><h3 id="node-安装" tabindex="-1"><a class="header-anchor" href="#node-安装"><span>node 安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh <span class="token operator">|</span> <span class="token function">bash</span>  <span class="token comment"># 安装 nvm</span></span>
<span class="line"><span class="token comment"># 重新打开终端</span></span>
<span class="line">nvm <span class="token function">install</span> <span class="token parameter variable">--lts</span>  <span class="token comment"># 安装最新稳定版 node</span></span>
<span class="line"></span>
<span class="line"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com <span class="token comment"># 配置 npm 镜像</span></span>
<span class="line"></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span> <span class="token comment"># 安装 yarn</span></span>
<span class="line"><span class="token function">yarn</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com <span class="token comment"># 配置 yarn 镜像</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git-安装及配置" tabindex="-1"><a class="header-anchor" href="#git-安装及配置"><span>git 安装及配置</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token comment"># 更新软件包列表</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">git</span> <span class="token comment"># 安装 git</span></span>
<span class="line"></span>
<span class="line"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">&quot;xxname&quot;</span> <span class="token comment"># 配置 Git 全局用户信息</span></span>
<span class="line"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">&quot;xx.email.com&quot;</span> <span class="token comment"># 配置 Git 全局用户信息</span></span>
<span class="line"><span class="token function">git</span> config <span class="token parameter variable">--global</span> <span class="token parameter variable">--list</span> <span class="token comment"># 查看 Git 全局配置</span></span>
<span class="line"></span>
<span class="line">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">&quot;xx.email.com&quot;</span> <span class="token comment"># 生成 SSH 密钥 公钥放入gitlab</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># config 设置</span></span>
<span class="line">Host git.soejh.com</span>
<span class="line">HostName git.soejh.com</span>
<span class="line">IdentityFile ~/.ssh/id_rsa_xx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clone-仓库" tabindex="-1"><a class="header-anchor" href="#clone-仓库"><span>clone 仓库</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> /home/ubuntu/data/code</span>
<span class="line"><span class="token function">git</span> clone git@git.xx.git</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 如果遇到权限问题 sudo chown -R xxhostname:xxhostname /home/ubuntu/data/code</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装包并运行" tabindex="-1"><a class="header-anchor" href="#安装包并运行"><span>安装包并运行</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> app1</span>
<span class="line"><span class="token function">yarn</span> <span class="token comment"># 安装依赖包</span></span>
<span class="line"><span class="token function">yarn</span> build <span class="token comment"># 打包</span></span>
<span class="line"><span class="token function">yarn</span> start <span class="token comment"># 运行</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 你可以在浏览器看到 http://ip:3000/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置-pm2" tabindex="-1"><a class="header-anchor" href="#配置-pm2"><span>配置 pm2</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> pm2</span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">cd</span> /home/ubuntu/data/code/app1</span>
<span class="line">pm2 start ecosystem.config.js <span class="token comment"># ecosystem.config.js里面配置端口和环境变量</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># pm2 其他命令</span></span>
<span class="line">pm2 <span class="token function">ls</span>                    <span class="token comment"># 查看所有进程</span></span>
<span class="line">pm2 restart app1    <span class="token comment"># 重启某个进程</span></span>
<span class="line">pm2 stop app1       <span class="token comment"># 停止某个进程</span></span>
<span class="line">pm2 delete app1     <span class="token comment"># 删除进程</span></span>
<span class="line">pm2 logs app1       <span class="token comment"># 查看日志</span></span>
<span class="line">pm2 save                  <span class="token comment"># 保存当前进程列表（用于开机自启）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11)]))}const o=n(i,[["render",p]]),r=JSON.parse('{"path":"/frame/1_2_nextjs%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2.html","title":"nextjs项目部署","lang":"zh-CN","frontmatter":{},"headers":[{"level":3,"title":"node 安装","slug":"node-安装","link":"#node-安装","children":[]},{"level":3,"title":"git 安装及配置","slug":"git-安装及配置","link":"#git-安装及配置","children":[]},{"level":3,"title":"clone 仓库","slug":"clone-仓库","link":"#clone-仓库","children":[]},{"level":3,"title":"安装包并运行","slug":"安装包并运行","link":"#安装包并运行","children":[]},{"level":3,"title":"配置 pm2","slug":"配置-pm2","link":"#配置-pm2","children":[]}],"git":{"updatedTime":1747644637000,"contributors":[{"name":"wu.hui","username":"","email":"wu.hui@qkupower.com","commits":1}],"changelog":[{"hash":"d5e63ea464c529d0f8105335b42e320cb8e2f2b2","time":1747644637000,"email":"wu.hui@qkupower.com","author":"wu.hui","message":"feat: up"}]},"filePathRelative":"frame/1_2_nextjs项目部署.md"}');export{o as comp,r as data};
