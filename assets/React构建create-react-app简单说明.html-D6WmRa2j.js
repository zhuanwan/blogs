import{_ as e,c as s,e as t,o as n}from"./app-Cqb5tvJn.js";const p={};function r(i,a){return n(),s("div",null,a[0]||(a[0]=[t(`<h1 id="create-react-app" tabindex="-1"><a class="header-anchor" href="#create-react-app"><span>create-react-app</span></a></h1><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>源码简单说下主要步骤，各种node版本，包版本等判断就不说了，<a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer">源码地址</a></p><ol><li>主要是几个包（react-react-app、react-scripts、cra-template或cra-template-typescript...），lerna管理这些包</li><li>我们创建一个项目使用</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">npx create<span class="token operator">-</span>react<span class="token operator">-</span>app my<span class="token operator">-</span>app <span class="token operator">--</span>template typescript</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">npm install create<span class="token operator">-</span>react<span class="token operator">-</span>app <span class="token operator">-</span>g</span>
<span class="line">create<span class="token operator">-</span>react<span class="token operator">-</span>app my<span class="token operator">-</span>app <span class="token operator">--</span>template typescript</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>所以入口文件在packages/create-react-app/package.json</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token string-property property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;create-react-app&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./index.js&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>进入文件，主要调用createReactApp.js -&gt; init方法</li><li>Command命令，输入项目名，模板之类的，也就是上面命令 “create-react-app my-app --template typescript” 中的 my-app 和 typescript，还有些其他的options，主要是这两个</li><li>拿到参数my-app 和 typescript，调用createApp方法，在my-app文件夹下面创建package.json</li><li>执行run方法，拿到&#39;react-scripts&#39;和&#39;cra-template[-typescript]&#39;, my-app文件夹下安装这两个包，在此过程中&#39;react&#39;, &#39;react-dom&#39;也会安装</li><li>create-react-app包执行最后（安装好了react-scripts）会调用react-scripts执行react-scripts/scripts/init.js</li><li>进入react-scripts文件夹，找到init.js，开始执行</li><li>找到模板&#39;cra-template[-typescript]&#39;目录下的template.json文件，把dependencies、eslintConfig复制到my-app的package.json的dependencies、eslintConfig，并添加scripts(react-scripts start、react-scripts build...)</li><li>找到模板&#39;cra-template[-typescript]&#39;目录下的template文件夹，把他复制到my-app文件夹下</li><li>my-app文件夹下 yarn/npm 安装dependencies</li></ol><h2 id="构建" tabindex="-1"><a class="header-anchor" href="#构建"><span>构建</span></a></h2><ol><li>进入react-scripts文件夹，找到package.json</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token string-property property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;react-scripts&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bin/react-scripts.js&quot;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>进入react-scripts.js，包含四个命令&#39;build&#39;, &#39;eject&#39;, &#39;start&#39;, &#39;test&#39;，分别对应scripts里面的文件名</li></ol>`,14)]))}const l=e(p,[["render",r]]),o=JSON.parse('{"path":"/frame/React%E6%9E%84%E5%BB%BAcreate-react-app%E7%AE%80%E5%8D%95%E8%AF%B4%E6%98%8E.html","title":"create-react-app","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"构建","slug":"构建","link":"#构建","children":[]}],"git":{"updatedTime":1666606883000,"contributors":[{"name":"wu.hui","username":"","email":"wu.hui@qkupower.com","commits":1}],"changelog":[{"hash":"89d07c3a8fa2ff8412f27b1e6131f9625b06dcf2","time":1666606883000,"email":"wu.hui@qkupower.com","author":"wu.hui","message":"feat: up"}]},"filePathRelative":"frame/React构建create-react-app简单说明.md"}');export{l as comp,o as data};
