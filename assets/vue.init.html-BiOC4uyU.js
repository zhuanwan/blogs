import{_ as s,c as a,e,o as i}from"./app-Cqb5tvJn.js";const t={};function p(l,n){return i(),a("div",null,n[0]||(n[0]=[e(`<h1 id="vue-init" tabindex="-1"><a class="header-anchor" href="#vue-init"><span>vue.init</span></a></h1><h3 id="mergeoptions" tabindex="-1"><a class="header-anchor" href="#mergeoptions"><span>mergeOptions</span></a></h3><ul><li>Vue 实例 绑定一些方法属性 op1</li><li>new Vue传参 op2</li><li>Vue 构造方法 绑定一些方法属性 op3</li></ul><p>Vue init方法里 $options = {...op3, ...op2, ...op1}</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">vm.<span class="token variable">$options</span> <span class="token operator">=</span> mergeOptions<span class="token punctuation">(</span></span>
<span class="line">  resolveConstructorOptions<span class="token punctuation">(</span>vm.constructor<span class="token punctuation">)</span>,</span>
<span class="line">  options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,</span>
<span class="line">  vm</span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="resolveconstructoroptions" tabindex="-1"><a class="header-anchor" href="#resolveconstructoroptions"><span>resolveConstructorOptions</span></a></h3><p>直接new 的返回options, Vue.extend 父类+自身options</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">// 测试</span>
<span class="line">var Profile <span class="token operator">=</span> Vue.extend<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  template: <span class="token string">&#39;&lt;p&gt;{{firstName}} {{lastName}} aka {{alias}}&lt;/p&gt;&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">Vue.mixin<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  data: <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin class-name">return</span> <span class="token punctuation">{</span></span>
<span class="line">      firstName: <span class="token string">&#39;Walter&#39;</span>,</span>
<span class="line">      lastName: <span class="token string">&#39;White&#39;</span>,</span>
<span class="line">      alias: <span class="token string">&#39;Heisenberg&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">new Profile<span class="token punctuation">(</span><span class="token punctuation">)</span>.<span class="token variable">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#example&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="initproxy" tabindex="-1"><a class="header-anchor" href="#initproxy"><span>initProxy</span></a></h3><p>proxy 测试环境警告，未定义的属性出现会警告。 给vm包了一个Proxy并挂在vm._renderProxy上，这样当你用‘test’ in vm._renderProxy去测试vm上是否有此test属性时就会触发Proxy中的has，产生没有属性时的提示效果</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>process.env.NODE_ENV <span class="token operator">!=</span><span class="token operator">=</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  initProxy<span class="token punctuation">(</span>vm<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  vm._renderProxy <span class="token operator">=</span> vm</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">vm._renderProxy <span class="token operator">=</span> new Proxy<span class="token punctuation">(</span>vm, handlers<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11)]))}const c=s(t,[["render",p]]),r=JSON.parse('{"path":"/frame/vue.init.html","title":"vue.init","lang":"zh-CN","frontmatter":{},"headers":[{"level":3,"title":"mergeOptions","slug":"mergeoptions","link":"#mergeoptions","children":[]},{"level":3,"title":"resolveConstructorOptions","slug":"resolveconstructoroptions","link":"#resolveconstructoroptions","children":[]},{"level":3,"title":"initProxy","slug":"initproxy","link":"#initproxy","children":[]}],"git":{"updatedTime":1622022772000,"contributors":[{"name":"wuhui","username":"wuhui","email":"maniwu@aijiatui.com","commits":3,"url":"https://github.com/wuhui"}],"changelog":[{"hash":"22549e7953a41909f4b84da9c0fc81e3df7a1ca8","time":1622022772000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"up"},{"hash":"ece683193851ecd2869fc166e8f8ace19055b36b","time":1607503623000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"up"},{"hash":"09bb80e737f6186680fc4ce7488069a3e4ed2c21","time":1606358839000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"up"}]},"filePathRelative":"frame/vue.init.md"}');export{c as comp,r as data};
