import{_ as a,c as s,e,o as p}from"./app-Cqb5tvJn.js";const l={};function i(r,n){return p(),s("div",null,n[0]||(n[0]=[e(`<h1 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx"><span>nginx</span></a></h1><h2 id="命令安装" tabindex="-1"><a class="header-anchor" href="#命令安装"><span>命令安装</span></a></h2><p>brew install nginx</p><p>nginx配置文件目录： /usr/local/etc/nginx/nginx.conf</p><h2 id="手动安装" tabindex="-1"><a class="header-anchor" href="#手动安装"><span>手动安装</span></a></h2><ol><li><p>ssh root@119.23.223.164 // 登录</p></li><li><p>cd /usr/local</p></li><li><p>下载nginx安装包，从本地拷贝到服务器上/usr/local scp /Users/xxx/downloads/nginx-1.20.1.tar.gz root@119.23.223.164:/usr/local</p></li><li><p>解压nginx tar -xvf nginx-1.20.1.tar.gz</p></li><li><p>删除压缩包 rm -rf nginx-1.20.1.tar.gz</p></li><li><p>进入nginx-1.20.1 cd nginx-1.20.1</p></li><li><p>PCRE(Perl Compatible Regular Expressions)是一个Perl库，包括 perl 兼容的正则表达式库。 nginx的http模块使用pcre来解析正则表达式，所以需要在linux上安装pcre库。 注：pcre-devel是使用pcre开发的一个二次开发库。nginx也需要此库。</p></li></ol><h1 id="yum-install-y-pcre-pcre-devel" tabindex="-1"><a class="header-anchor" href="#yum-install-y-pcre-pcre-devel"><span>yum install -y pcre pcre-devel</span></a></h1><ol start="8"><li>zlib zlib库提供了很多种压缩和解压缩的方式，nginx使用zlib对http包的内容进行gzip，所以需要在linux上安装zlib库。</li></ol><h1 id="yum-install-y-zlib-zlib-devel" tabindex="-1"><a class="header-anchor" href="#yum-install-y-zlib-zlib-devel"><span>yum install -y zlib zlib-devel</span></a></h1><ol start="9"><li><p>./configure &amp;&amp; make &amp;&amp; make instal</p></li><li><p>查看安装位置 whereis nginx</p></li><li><p>阿里云安全组修改，添加80端口</p></li><li><p>cd /usr/local/nginx/sbin<br> ./nginx</p></li><li><p>访问http://119.23.223.164/</p></li></ol><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><p>启动nginx： ngxin</p><p>重启nginx： nginx -s reload</p><h2 id="查找文件" tabindex="-1"><a class="header-anchor" href="#查找文件"><span>查找文件</span></a></h2><p>查看nginx实际调用的配置文件</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">ps aux<span class="token operator">|</span>grep nginx</span>
<span class="line"></span>
<span class="line">root      <span class="token number">2420</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112712</span>   <span class="token number">956</span> pts<span class="token operator">/</span><span class="token number">0</span>    <span class="token constant">S</span><span class="token operator">+</span>   <span class="token number">09</span><span class="token operator">:</span><span class="token number">24</span>   <span class="token number">0</span><span class="token operator">:</span><span class="token number">00</span> grep <span class="token operator">--</span>color<span class="token operator">=</span>auto nginx</span>
<span class="line">nobody   <span class="token number">19724</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">21068</span>  <span class="token number">1844</span> <span class="token operator">?</span>        <span class="token constant">S</span>    Mar30   <span class="token number">0</span><span class="token operator">:</span><span class="token number">08</span> <span class="token literal-property property">nginx</span><span class="token operator">:</span> worker process</span>
<span class="line">root     <span class="token number">23037</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>  <span class="token number">20712</span>  <span class="token number">1564</span> <span class="token operator">?</span>        Ss    <span class="token number">2021</span>   <span class="token number">0</span><span class="token operator">:</span><span class="token number">00</span> <span class="token literal-property property">nginx</span><span class="token operator">:</span> master process <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>nginx<span class="token operator">/</span>sbin<span class="token operator">/</span>nginx</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际路径为 /usr/local/nginx/sbin/nginx</p><p>实际调用的配置文件路径及是否调用有效</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>nginx<span class="token operator">/</span>sbin<span class="token operator">/</span>nginx <span class="token operator">-</span>t</span>
<span class="line"></span>
<span class="line"><span class="token literal-property property">nginx</span><span class="token operator">:</span> the configuration file <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf syntax is ok</span>
<span class="line"><span class="token literal-property property">nginx</span><span class="token operator">:</span> configuration file <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token operator">/</span>nginx<span class="token punctuation">.</span>conf test is successful</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)]))}const t=a(l,[["render",i]]),c=JSON.parse(`{"path":"/tools/nginx.html","title":"nginx","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"命令安装","slug":"命令安装","link":"#命令安装","children":[]},{"level":2,"title":"手动安装","slug":"手动安装","link":"#手动安装","children":[]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]},{"level":2,"title":"查找文件","slug":"查找文件","link":"#查找文件","children":[]}],"git":{"updatedTime":1662688632000,"contributors":[{"name":"wuhui","username":"wuhui","email":"maniwu@aijiatui.com","commits":3,"url":"https://github.com/wuhui"},{"name":"wu.hui","username":"","email":"wu.hui@qkupower.com","commits":1}],"changelog":[{"hash":"80bd049b53d01ec711c1192d7768001e68b5c4c7","time":1662688632000,"email":"wu.hui@qkupower.com","author":"wu.hui","message":"feat: up"},{"hash":"1463bacaa5ea9d8d9a6ab5a7877494f89779fe92","time":1641452255000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"feat: up"},{"hash":"22549e7953a41909f4b84da9c0fc81e3df7a1ca8","time":1622022772000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"up"},{"hash":"5fafa6ac292815abdc92a2142d4000bf12327a7e","time":1619425497000,"email":"maniwu@aijiatui.com","author":"wuhui","message":"u'p"}]},"filePathRelative":"tools/nginx.md"}`);export{t as comp,c as data};
